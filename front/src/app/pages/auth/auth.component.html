<div class="auth-container">
  <div class="logo-container">
    <img src="/assets/logo_p6.png" alt="Logo" class="logo">
  </div>
  
  <div class="auth-form">
    <h2>{{ isLoginMode ? 'Se connecter' : 'S\'inscrire' }}</h2>
    
    <form [formGroup]="authForm" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <mat-form-field appearance="outline">
          <mat-label>Nom d'utilisateur</mat-label>
          <input matInput formControlName="username" 
                          placeholder="Nom d'utilisateur"
                          >
          <mat-error *ngIf="authForm.get('username')?.invalid 
                         && authForm.get('username')?.touched"
                         >
            Le nom d'utilisateur est requis
          </mat-error>
        </mat-form-field>
      </div>
      
      <div class="form-group" *ngIf="!isLoginMode">
        <mat-form-field appearance="outline">
          <mat-label>Email</mat-label>
          <input 
            matInput type="email" 
                    formControlName="email" 
                    placeholder="Adresse email"
                    >
          <mat-error *ngIf="authForm.get('email')?.invalid 
                         && authForm.get('email')?.touched"
                         >
            Veuillez entrer une adresse email valide
          </mat-error>
        </mat-form-field>
      </div>
      
      <div class="form-group">
        <mat-form-field appearance="outline">
          <mat-label>Mot de passe</mat-label>
          <input matInput type="password" 
                          formControlName="password" 
                          placeholder="Mot de passe"
                          >
          <mat-error *ngIf="authForm.get('password')?.invalid 
                         && authForm.get('password')?.touched"
                         >
            Le mot de passe doit contenir au moins 6 caract√®res
          </mat-error>
        </mat-form-field>
      </div>
      
      <div class="buttons-container">
        <button mat-button type="button" 
                           class="auth-button" 
                           (click)="toggleAuthMode()"
                           >
          {{ isLoginMode ? 'S\'inscrire' : 'Se connecter' }}
        </button>
        <button mat-button type="submit" 
                           class="auth-button" 
                           [disabled]="authForm.invalid || loading"
                           >
          {{ isLoginMode ? 'Se connecter' : 'S\'inscrire' }}
          <mat-spinner *ngIf="loading" [diameter]="20"></mat-spinner>
        </button>
      </div>
    </form>
  </div>
</div>
